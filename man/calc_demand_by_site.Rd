% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/calc_demand_by_site.R
\name{calc_demand_by_site}
\alias{calc_demand_by_site}
\title{Calculate demand captured by each service site}
\usage{
calc_demand_by_site(demand, weights)
}
\arguments{
\item{demand}{SpatRaster representing spatial distribution of demand}

\item{weights}{Multi-layer SpatRaster where:
- Each layer represents one service site
- Values are probability weights (0-1) from distance decay
- Layer names should match site IDs}
}
\value{
data.frame with:
        - location_id: identifier matching weight layer names
        - potential_demand: weighted sum of demand for each site
}
\description{
Calculates the potential demand for each service site by applying pre-computed
spatial weights to a demand raster. Each layer in the weights represents one
site's probability-based catchment area (derived from distance decay).
}
\examples{
# With pre-computed gaussian distance decay weights:
weights <- calc_decay(distance_raster, method = "gaussian", sigma = 30)
site_demands <- calc_demand_by_site(population_density, weights)
}
