% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/compute_choice.R
\name{compute_choice}
\alias{compute_choice}
\title{Compute Spatial Choice Probabilities}
\usage{
compute_choice(weights, attractiveness = NULL, alpha = 1, a0 = 0)
}
\arguments{
\item{weights}{Multi-layer SpatRaster of spatial weights (e.g., from compute_weights)}

\item{attractiveness}{Optional numeric vector of facility attractiveness values}

\item{alpha}{Numeric parameter for attractiveness sensitivity (default = 1)}

\item{a0}{Non-negative numeric value representing outside option weight (default = 0)}
}
\value{
SpatRaster stack of choice probabilities (layers sum to 1 at each location)
}
\description{
Converts spatial weights to choice probabilities. When used with attractiveness values,
implements Huff model logic. Without attractiveness, behaves like standard weight
normalization.
}
\examples{
\dontrun{
# Calculate decay weights
w <- compute_weights(distance, method = "gaussian", sigma = 30)

# Basic usage (equivalent to normalize_weights)
p1 <- compute_choice(w)

# With Huff model attractiveness
attr <- c(100, 150, 80)  # for 3 facilities
p2 <- compute_choice(w, attractiveness = attr, alpha = 1.5)

# With outside option
p3 <- compute_choice(w, attractiveness = attr, a0 = 0.1)
}
}
